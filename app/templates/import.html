{% extends "base.html" %}
{% block title %}Update Cases - JSN Holdings{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Update Case List</h1>
    <p class="page-subtitle">Pull new cases from county portals and import them into your system.</p>
</div>

<div class="card" style="max-width: 600px;">
    <div class="card-body">
        <form method="post" action="/update_cases">
            <div class="form-group">
                <label class="form-label">Days to scrape</label>
                <input id="since_days" name="since_days" type="number" min="0" step="1" value="7" class="form-control">
                <span class="form-hint">How many days back to pull from the county portals.</span>
            </div>
            
            <div class="form-group">
                <label class="form-label">Counties</label>
                <div style="display: flex; gap: var(--space-lg); margin-top: var(--space-sm);">
                    <label style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer; font-weight: 400;">
                        <input type="checkbox" name="run_pasco" value="1" checked style="width: 18px; height: 18px;">
                        <span>Pasco County</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer; font-weight: 400;">
                        <input type="checkbox" name="run_pinellas" value="1" checked style="width: 18px; height: 18px;">
                        <span>Pinellas County</span>
                    </label>
                </div>
            </div>
            
            <div style="padding-top: var(--space-lg); border-top: 1px solid var(--border); margin-top: var(--space-lg);">
                <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17,8 12,3 7,8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                    Start Update
                </button>
                <p style="text-align: center; color: var(--text-muted); font-size: 13px; margin-top: var(--space-md);">
                    You'll see a live progress log and be redirected when finished.
                </p>
            </div>
        </form>
    </div>
</div>

<div class="card" style="max-width: 600px; margin-top: var(--space-lg);">
    <div class="card-header">
        <h3 class="card-title">About Case Updates</h3>
    </div>
    <div class="card-body">
        <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
            This process will:
        </p>
        <ul style="color: var(--text-secondary); list-style: none; padding: 0;">
            <li style="display: flex; align-items: flex-start; gap: var(--space-sm); margin-bottom: var(--space-sm);">
                <span style="color: var(--success);">✓</span>
                Connect to county foreclosure portals
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-sm); margin-bottom: var(--space-sm);">
                <span style="color: var(--success);">✓</span>
                Download new case filings
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-sm); margin-bottom: var(--space-sm);">
                <span style="color: var(--success);">✓</span>
                Import cases into your database
            </li>
            <li style="display: flex; align-items: flex-start; gap: var(--space-sm);">
                <span style="color: var(--success);">✓</span>
                Skip duplicates automatically
            </li>
        </ul>
    </div>
</div>
{% endblock %}
