<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}JSN Holdings Foreclosure Manager{% endblock %}</title>
    
    <!-- Existing CSS -->
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
    
    <!-- ADD THIS LINE: -->
    <link rel="stylesheet" href="{{ url_for('static', path='/style_mobile.css') }}">
</head>
  <body>
    <header class="container">
      <h1>JSN Holdings Foreclosure Manager</h1>
      <nav>
    <a href="/">Home</a>
    <a href="/cases">Cases</a>
    
    <!-- ADD THESE NEW LINKS: -->
    <a href="/dashboard">ðŸ“Š Dashboard</a>
    
    <a href="/update-cases">Update Cases</a>
    
    <!-- If multi-user enabled: -->
    {% if user %}
        <a href="/profile">{{ user.email }}</a>
        <a href="/logout">Logout</a>
    {% endif %}
</nav>
    </header>

    <main class="container">
      {% block content %}{% endblock %}
    </main>

    <div id="busyOverlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:1000;">
      <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; padding:1rem 1.5rem; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,0.2); text-align:center;">
        <div class="spinner" style="width:36px; height:36px; border:4px solid #ddd; border-top-color:#333; border-radius:50%; margin:0 auto 0.75rem; animation:spin 1s linear infinite;"></div>
        <div><strong>Updating casesâ€¦</strong><div>Please donâ€™t navigate away.</div></div>
      </div>
    </div>

    <style>@keyframes spin{to{transform:rotate(360deg)}}</style>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('form[data-busy-overlay]').forEach(function(f){
          f.addEventListener('submit', function(){ document.getElementById('busyOverlay').style.display='block'; });
        });
      });
    </script>
  </body>
</html>
